import AsyncStorage from "@react-native-async-storage/async-storage";

export type Language = "tr" | "en";

export const SUPPORTED_LANGUAGES: Language[] = ["tr", "en"];

export const LANGUAGE_NAMES: Record<Language, string> = {
  tr: "Türkçe",
  en: "English",
};

const STORAGE_KEY = "@cliniflow:language";

// Default translations
const translations: Record<Language, Record<string, string>> = {
  tr: {
    // Common
    "common.loading": "Yükleniyor...",
    "common.error": "Hata",
    "common.success": "Başarılı",
    "common.cancel": "İptal",
    "common.ok": "Tamam",
    "common.save": "Kaydet",
    "common.delete": "Sil",
    "common.edit": "Düzenle",
    "common.close": "Kapat",
    "common.back": "Geri",
    "common.next": "İleri",
    "common.retry": "Tekrar Dene",
    "common.share": "Paylaş",
    "common.copy": "Kopyala",
    "common.call": "Ara",
    "common.file": "Dosya",
    "common.location": "Konum",
    "common.shareFileOrSave": "Dosyayı Paylaş veya Kaydet",
    "common.sharingNotAvailable": "Paylaşım özelliği kullanılamıyor",
    "common.sharingFailed": "Paylaşım başarısız",
    "common.unknownError": "Bilinmeyen hata",
    "common.pleaseRetry": "Lütfen tekrar deneyin",
    "common.retryFailed": "Tekrar deneme başarısız",
    "common.info": "Bilgi",
    
    // Home
    "home.title": "Ana Sayfa",
    "nav.home": "Ana Sayfa",
    "nav.health": "Sağlık",
    "nav.travel": "Seyahat",
    "nav.chat": "Sohbet",
    "nav.treatment": "Tedavi",
    "nav.referrals": "Davetler",
    "home.welcome": "Hoş Geldiniz",
    "home.status": "Durum",
    "home.nextActions": "Sonraki İşlemler",
    "home.upcoming": "Yaklaşan",
    "home.treatmentPlan": "Tedavi Planı",
    "home.estimatedDays": "Tahmini: {{days}} gün",
    "home.travel": "Seyahat",
    "home.messages": "Mesajlar",
    "home.messageClinic": "Klinik ile iletişime geç",
    "home.noActions": "Bugün yapılacak işlem yok",
    "home.noEvents": "Yaklaşan etkinlik yok",
    "home.loading": "Yükleniyor...",
    "home.error": "Hasta bilgileri yüklenemedi",
    "home.viewOnMap": "Haritada Gör",
    "home.clinicAddress": "Adres",
    "home.clinicPhone": "Telefon",
    "home.statusUnderReview": "İncelemede",
    "home.statusUnderReviewMessage": "Bilgileriniz inceleniyor",
    "home.statusActionRequired": "İşlem Gerekli",
    "home.statusActionRequiredMessage": "Birkaç detay daha gerekiyor",
    "home.statusPlanReady": "Plan Hazır",
    "home.statusPlanReadyMessage": "Tedavi planınız hazır",
    "home.statusTravelPlanned": "Seyahat Planlandı",
    "home.statusTravelPlannedMessage": "Seyahatiniz planlandı",
    "home.statusInTreatment": "Tedavide",
    "home.statusInTreatmentMessage": "Tedavi devam ediyor",
    "home.statusCompleted": "Tamamlandı",
    "home.statusCompletedMessage": "Tedavi tamamlandı",
    "home.statusPending": "Beklemede",
    "home.statusPendingMessage": "Onay bekleniyor",
    "home.statusApproved": "Onaylandı",
    "home.statusApprovedMessage": "Her şey hazır",
    "home.actionCompleteForm": "Sağlık formunu tamamla (anamnez)",
    "home.actionCompleteTravel": "Seyahat bilgilerini tamamla",
    "home.actionCompleteTravelDetails": "Seyahat detaylarını tamamla",
    "home.progressForm": "Form",
    "home.progressApproval": "Onay",
    "home.progressPlanning": "Planlama",
    "home.progressTravel": "Seyahat",
    "home.progressTreatment": "Tedavi",
    "home.eventFlight": "Uçuş",
    "home.eventFlightDetails": "Seyahat detaylarınızı kontrol edin",
    "home.eventHotel": "Otel",
    "home.eventTransfer": "Transfer",
    "home.transferConfirmed": "Onaylandı",
    "home.flightLabel": "Uçuş",
    "home.hotelLabel": "Otel",
    "home.transferLabel": "Transfer",
    "home.poweredBy": "Powered by Cliniflow",
    "home.needHelp": "Yardıma mı ihtiyacınız var?",
    "home.contactClinic": "Yardım için kliniğinizle iletişime geçin",
    "home.travelIncompleteWarning": "⚠️ Seyahat bilgileriniz tamamlanmadı",
    "home.travelIncompleteMessage": "Lütfen seyahat bilgilerinizi tamamlayın",
    "home.financialSummary": "Tedavi Özeti",
    "home.estimatedTotal": "Tahmini Toplam",
    "home.totalPaid": "Ödenen",
    "home.remaining": "Kalan",
    "home.financialNote": "Bilgilendirme amaçlıdır.",
    
    // Chat
    "chat.title": "Sohbet",
    "chat.send": "Gönder",
    "chat.typeMessage": "Mesaj yazın...",
    "chat.fileDownloaded": "Dosya İndirildi",
    "chat.fileDownloadFailed": "Dosya İndirilemedi",
    "chat.downloadSuccess": "Dosya başarıyla indirildi.",
    "chat.downloadError": "Dosya indirilemedi",
    "chat.fileDownloadSuccess": "Dosya başarıyla indirildi",
    "chat.downloadTimeout": "İndirme zaman aşımına uğradı",
    "chat.fileNotFound": "Dosya bulunamadı",
    "chat.downloadFailedHttp": "İndirme başarısız: HTTP",
    "chat.noStorage": "Yeterli depolama alanı yok",
    "chat.downloadDeprecatedError": "Dosya indirme özelliği güncelleniyor",
    "chat.chatLocked": "Sohbet Kilitli",
    "chat.chatLockedMessage": "Sohbet sadece onaylanmış hastalar için kullanılabilir.",
    "chat.sendError": "Mesaj gönderilemedi. Lütfen tekrar deneyin.",
    "chat.file": "Dosya",
    "chat.loading": "Mesajlar yükleniyor...",
    "chat.noMessages": "Henüz mesaj yok",
    "chat.selectFile": "Dosya Seç",
    "chat.selectImage": "Fotoğraf Seç",
    "chat.selectDocument": "Belge Seç",
    "chat.intraoralPhoto": "Ağız İçi Fotoğraf Çek",
    "chat.sendImage": "Resim Gönder",
    "chat.sendFile": "Dosya Gönder",
    "chat.formatNotSupported": "Format Desteklenmiyor",
    "chat.formatNotSupportedMessage": "Desteklenen formatlar: JPG, PNG, HEIC – Max 10MB",
    "chat.error": "Hata",
    "chat.imageSelectionFailed": "Fotoğraf seçilemedi.",
    "chat.fileSelectionFailed": "Dosya seçilemedi.",
    "chat.sessionError": "Oturum Hatası",
    "chat.sessionExpired": "Oturum süreniz dolmuş olabilir. Lütfen uygulamadan çıkıp tekrar giriş yapın.",
    "chat.uploadError": "Yükleme Hatası",
    "chat.uploadErrorServer": "Sunucu hatası oluştu",
    "chat.uploadErrorTryLater": "Lütfen daha sonra tekrar deneyin.",
    "chat.timeout": "Zaman Aşımı",
    "chat.uploadTimeout": "Yükleme zaman aşımına uğradı. Lütfen tekrar deneyin.",
    "chat.uploadFailed": "Yükleme başarısız",
    "chat.fileSendFailed": "Dosya gönderilemedi",
    "chat.success": "Başarılı",
    "chat.photoUploaded": "Fotoğraf yüklendi.",
    "chat.connectionError": "Bağlantı Hatası",
    "chat.checkConnection": "İnternet bağlantınızı kontrol edin ve tekrar deneyin.",
    "chat.downloadFailed": "Fotoğraf indirilemedi",
    "chat.photoOpenFailed": "Fotoğraf açılamadı",
    "chat.unknownError": "Bilinmeyen hata",
    
    // Travel
    "travel.title": "Seyahat",
    "travel.loading": "Seyahat bilgileri yükleniyor...",
    "travel.error": "Seyahat bilgileri yüklenemedi",
    "travel.flight": "Uçuş",
    "travel.hotel": "Otel",
    "travel.transfer": "Transfer",
    "travel.retry": "Tekrar Dene",
    "travel.save": "Kaydet",
    "travel.cancel": "İptal",
    "travel.edit": "Düzenle",
    "travel.add": "Ekle",
    "travel.delete": "Sil",
    "travel.arrival": "Geliş",
    "travel.departure": "Dönüş",
    "travel.from": "Nereden",
    "travel.to": "Nereye",
    "travel.date": "Tarih",
    "travel.time": "Saat",
    "travel.flightNo": "Uçuş No",
    "travel.hotelName": "Otel Adı",
    "travel.address": "Adres",
    "travel.phone": "Telefon",
    "travel.checkIn": "Giriş",
    "travel.checkOut": "Çıkış",
    "travel.viewOnMap": "Haritada Gör",
    "travel.airportPickup": "Havaalanı Karşılama",
    "travel.pickupName": "Karşılayan Kişi",
    "travel.whatsApp": "WhatsApp",
    "travel.gate": "Buluşma Yeri (Gate)",
    "travel.carBrand": "Araba Markası",
    "travel.carColor": "Araba Rengi",
    "travel.carPlate": "Araba Plakası",
    "travel.notes": "Notlar",
    "travel.notesPlaceholder": "Seyahat ile ilgili notlarınızı buraya yazabilirsiniz...",
    "travel.editPolicy": "Düzenleme Politikası",
    "travel.editPolicyAdmin": "Admin dolduruyor",
    "travel.editPolicyPatient": "Hasta dolduruyor",
    "travel.editPolicyBoth": "İkisi de doldurabilir",
    "travel.noTravelInfo": "Henüz seyahat bilgisi yok",
    "travel.saveSuccess": "Seyahat bilgileri kaydedildi",
    "travel.saveError": "Seyahat bilgileri kaydedilemedi",
    "travel.deleteConfirm": "Bu bilgiyi silmek istediğinize emin misiniz?",
    "travel.requestTimeout": "İstek zaman aşımına uğradı (10 saniye).\n\nLütfen:\n1. Sunucunun çalıştığından emin olun\n2. İnternet bağlantınızı kontrol edin\n3. Tekrar deneyin",
    "travel.networkError": "Ağ bağlantısı hatası.\n\nLütfen:\n1. Sunucunun çalıştığından emin olun\n2. İnternet bağlantınızı kontrol edin",
    "travel.refreshError": "Yenileme hatası",
    "travel.noEditableFields": "Bu sayfada düzenleyebileceğin alan yok.",
    "travel.patientIdNotFound": "Patient ID bulunamadı",
    "travel.waitMax10Seconds": "Maksimum 10 saniye bekleyin...",
    "travel.whoWillArrangeFlights": "Uçak biletlerini kim ayarlayacak?",
    "travel.whoWillArrangeHotel": "Otel rezervasyonunu kim yapacak?",
    "travel.clinic": "Klinik",
    "travel.patient": "Hasta",
    "travel.patientIdLabel": "Hasta",
    "travel.yourChoice": "Seçimin",
    "travel.flightTickets": "Uçak biletleri",
    "travel.hotelReservation": "Otel rezervasyonu",
    "travel.noHotelInfo": "Henüz otel bilgisi girilmemiş.",
    "travel.checkInDate": "Giriş (Tarih seç)",
    "travel.checkOutDate": "Çıkış (Tarih seç)",
    "travel.selectDate": "Tarih seç (YYYY-MM-DD)",
    "travel.checkInDateLabel": "Giriş Tarihi",
    "travel.checkOutDateLabel": "Çıkış Tarihi",
    "travel.flightDateLabel": "Uçuş Tarihi",
    "travel.contactPerson": "İletişim Kişisi",
    "travel.meetingPoint": "Buluşma Yeri",
    "travel.vehicleInformation": "Araç Bilgileri",
    "travel.specialNotes": "Özel Notlar",
    "travel.checkInDate": "Giriş (Tarih seç)",
    "travel.checkOutDate": "Çıkış (Tarih seç)",
    "travel.selectDate": "Tarih seç (YYYY-MM-DD)",
    "travel.checkInDateLabel": "Giriş Tarihi",
    "travel.checkOutDateLabel": "Çıkış Tarihi",
    "travel.flightDateLabel": "Uçuş Tarihi",
    "travel.contactPerson": "İletişim Kişisi",
    "travel.meetingPoint": "Buluşma Yeri",
    "travel.vehicleInformation": "Araç Bilgileri",
    "travel.specialNotes": "Özel Notlar",
    "travel.hotelNamePlaceholder": "Otel adı",
    "travel.addressPlaceholder": "Adres",
    "travel.phonePlaceholder": "Telefon",
    "travel.googleMapsLinkPlaceholder": "Google Maps Linki (https://maps.google.com/...)",
    "travel.fromPlaceholder": "Nereden",
    "travel.toPlaceholder": "Nereye",
    "travel.timePlaceholder": "Saat (SS:DD)",
    "travel.flightNoPlaceholder": "Uçuş No",
    "travel.addArrival": "+ Geliş",
    "travel.addDeparture": "+ Dönüş",
    "travel.remove": "Kaldır",
    "travel.adminOnlySection": "Bu bölüm admin tarafından dolduruluyor, sadece görüntüleyebilirsiniz.",
    "travel.selectOrganizationMessage": "Lütfen uçak ve otel organizasyonlarınızı kimin yapacağını seçiniz",
    
    // Health
    "health.title": "Sağlık Formu",
    "health.complete": "Formu Tamamla",
    "health.loading": "Form yükleniyor...",
    "health.error": "Form yüklenemedi",
    "health.save": "Kaydet",
    "health.next": "İleri",
    "health.back": "Geri",
    "health.submit": "Gönder",
    "health.submitConfirm": "Formu göndermek istediğinize emin misiniz?",
    "health.submitSuccess": "Form başarıyla gönderildi",
    "health.submitError": "Form gönderilemedi",
    "health.error": "Hata",
    "health.formCouldNotBeSaved": "Form kaydedilemedi",
    "health.endpointNotFound": "Endpoint bulunamadı. Sunucuyu yeniden başlatmanız gerekebilir.",
    "health.serverError": "Sunucu hatası. Lütfen daha sonra tekrar deneyin.",
    "health.unexpectedResponse": "Beklenmeyen yanıt formatı. Sunucuyu kontrol edin.",
    "health.connectionError": "Bağlantı hatası olabilir.",
    "health.missingInformation": "Eksik Bilgi",
    "health.fillRequiredFields": "Lütfen tüm zorunlu alanları doldurun.",
    "health.missingFields": "Eksik alanlar",
    "health.success": "Başarılı",
    "health.formCompleted": "Form başarıyla tamamlandı! Düzenleme kapatıldı.",
    "health.checkAllConsent": "Lütfen tüm onay kutularını işaretleyin",
    "health.personalInformation": "Kişisel Bilgiler",
    "health.generalHealthStatus": "Genel Sağlık Durumu",
    "health.medicationsAllergies": "İlaçlar ve Alerjiler",
    "health.dentalHistoryComplaint": "Diş Geçmişi ve Şikayet",
    "health.reviewAndUpdate": "Lütfen bilgilerinizi kontrol edin ve gerekirse güncelleyin.",
    "health.fullName": "Ad Soyad",
    "health.fullNamePlaceholder": "Ad Soyad",
    "health.registeredName": "Kayıtlı isim (değiştirilemez)",
    "health.dateOfBirth": "Doğum Tarihi",
    "health.dateOfBirthPlaceholder": "GG.AA.YYYY",
    "health.gender": "Cinsiyet",
    "health.male": "Erkek",
    "health.female": "Kadın",
    "health.other": "Diğer",
    "health.phoneWhatsApp": "Telefon / WhatsApp",
    "health.phonePlaceholder": "+90 555 123 45 67",
    "health.registeredPhone": "Kayıtlı telefon numarası (değiştirilemez)",
    "health.email": "E-posta (İsteğe Bağlı)",
    "health.emailPlaceholder": "ornek@email.com",
    "health.country": "Ülke",
    "health.countryPlaceholder": "Türkiye",
    "health.anyConditions": "Aşağıdakilerden herhangi birine sahip misiniz?",
    "health.pregnancyMonth": "Hamilelik Ayı? (İsteğe Bağlı)",
    "health.pregnancyMonthPlaceholder": "Ay (örn: 3)",
    "health.brieflyExplain": "Lütfen kısaca açıklayın",
    "health.notesPlaceholder": "Notlar...",
    "health.medicationsUsed": "KULLANILAN İLAÇLAR",
    "health.allergies": "ALERJİLER",
    "health.medicationNameDosage": "İlaç adı ve dozu (biliniyorsa)",
    "health.medicationPlaceholder": "Örn: Aspirin 100mg, günde 1 tablet",
    "health.details": "Detaylar",
    "health.allergyDetailsPlaceholder": "Alerji detayları...",
    "health.dentalHistory": "DİŞ GEÇMİŞİ",
    "health.problemsPrevious": "Önceki diş tedavisinde sorun yaşadınız mı?",
    "health.badExperienceAnesthesia": "Lokal anestezi ile kötü bir deneyim yaşadınız mı?",
    "health.previousProcedures": "Daha önce implant / kanal tedavisi / cerrahi işlem yaptırdınız mı?",
    "health.currentComplaint": "MEVCUT ŞİKAYET",
    "health.mainComplaint": "Ana şikayetiniz nedir?",
    "health.complaintPlaceholder": "Şikayetinizi yazın...",
    "health.isTherePain": "Ağrı var mı?",
    "health.habits": "ALIŞKANLIKLAR",
    "health.doYouSmoke": "Sigara içiyor musunuz?",
    "health.howManyPerDay": "Günde kaç adet?",
    "health.cigarettesPlaceholder": "Adet",
    "health.alcoholConsumption": "Alkol tüketimi:",
    "health.consentInformation": "ONAY VE BİLGİ",
    "health.infoAccurate": "Verdiğim bilgilerin doğru olduğunu beyan ederim",
    "health.planMayChange": "Muayene sonrası tedavi planının değişebileceğini kabul ediyorum",
    "health.dataUsage": "Verilerimin tedavi amaçlı kullanımına onay veriyorum",
    "health.yes": "Evet",
    "health.no": "Hayır",
    "health.none": "Yok",
    "health.mild": "Hafif",
    "health.moderate": "Orta",
    "health.severe": "Şiddetli",
    "health.noLabel": "Hayır",
    "health.occasional": "Ara Sıra",
    "health.regular": "Düzenli",
    "health.preTreatmentForm": "Tedavi Öncesi Hasta Formu",
    "health.loadingText": "Yükleniyor...",
    "health.formCompleted": "Form Tamamlandı",
    "health.formCompletedMessage": "Sağlık formunuz başarıyla kaydedildi. Düzenleme kapatıldı.",
    "health.returnToHome": "Ana Sayfaya Dön",
    "health.step": "Adım",
    "health.condition.diabetes": "Diyabet",
    "health.condition.heart_disease": "Kalp Hastalığı",
    "health.condition.hypertension": "Hipertansiyon (Yüksek Tansiyon)",
    "health.condition.bleeding_disorder": "Kanama / Pıhtılaşma Bozukluğu",
    "health.condition.asthma": "Astım / Solunum Hastalığı",
    "health.condition.epilepsy": "Epilepsi",
    "health.condition.kidney_disease": "Böbrek Hastalığı",
    "health.condition.liver_disease": "Karaciğer Hastalığı",
    "health.condition.thyroid": "Tiroid Hastalığı",
    "health.condition.immune_system": "Bağışıklık Sistemi Hastalığı",
    "health.condition.cancer": "Kanser (Geçmiş veya Aktif)",
    "health.condition.pregnancy": "Hamilelik",
    "health.condition.none": "Yok",
    "health.medication.regular": "Düzenli ilaç kullanımı",
    "health.medication.bloodThinner": "Kan inceltici (Aspirin, Coumadin, Eliquis, vb.)",
    "health.medication.cortisone": "Kortizon",
    "health.medication.antibiotics": "Antibiyotik (son 1 ay içinde)",
    "health.medication.none": "Yok",
    "health.allergy.localAnesthesia": "Lokal anestezi alerjisi",
    "health.allergy.penicillin": "Penisilin / antibiyotik alerjisi",
    "health.allergy.latex": "Lateks alerjisi",
    "health.allergy.other": "Diğer alerji",
    "health.allergy.none": "Alerji yok",
    
    // Treatment
    "treatment.title": "Tedavi",
    "treatment.plan": "Tedavi Planı",
    "treatment.loading": "Tedavi planı yükleniyor...",
    "treatment.error": "Tedavi planı yüklenemedi",
    "treatment.noProcedures": "Bu diş için henüz işlem yok",
    "treatment.readOnly": "Bu ekran sadece görüntüleme amaçlıdır",
    "treatment.tooth": "Diş",
    "treatment.procedures": "İşlemler",
    "treatment.status": "Durum",
    "treatment.cost": "Fiyat",
    "treatment.estimatedCost": "Tahmini Bedel",
    "treatment.informationalOnly": "Bilgilendirme Amaçlı",
    "treatment.paymentSummary": "Ödeme Özeti",
    "treatment.totalAgreed": "Toplam Anlaşılan",
    "treatment.totalPaid": "Toplam Ödenen",
    "treatment.remaining": "Kalan",
    "treatment.scheduledAt": "Planlanan Tarih",
    "treatment.notes": "Notlar",
    "treatment.couldNotLoad": "Tedavi bilgileri yüklenemedi",
    "treatment.patientNotFound": "Hasta bulunamadı",
    "treatment.upperJaw": "Üst Çene",
    "treatment.lowerJaw": "Alt Çene",
    "treatment.noTreatmentRecords": "Henüz tedavi kaydı yok",
    "treatment.toothTreatments": "Diş {{toothId}} - Tedaviler",
    "treatment.status.planned": "Planlandı",
    "treatment.status.scheduled": "Planlandı",
    "treatment.status.pending": "Bekliyor",
    "treatment.status.active": "Uygulanıyor",
    "treatment.status.completed": "Tamamlandı",
    "treatment.scheduled": "Planlanan Tarih",
    "treatment.notes": "Notlar",
    "treatment.created": "Oluşturulma",
    "treatment.type.CROWN": "Kuron",
    "treatment.type.TEMP_CROWN": "Geçici Kuron",
    "treatment.type.BRIDGE_UNIT": "Köprü",
    "treatment.type.TEMP_BRIDGE_UNIT": "Geçici Köprü",
    "treatment.type.CROWN_REPLACEMENT": "Kuron Yenileme",
    "treatment.type.BRIDGE_REPLACEMENT_OR_REMOVAL": "Köprü Yenileme / Çıkarma",
    "treatment.type.INLAY": "İnley",
    "treatment.type.ONLAY": "Onley",
    "treatment.type.OVERLAY": "Overley",
    "treatment.type.POST_AND_CORE": "Post & Core",
    "treatment.type.FILLING": "Dolgu",
    "treatment.type.TEMP_FILLING": "Geçici Dolgu",
    "treatment.type.FILLING_REPLACEMENT_OR_REMOVAL": "Dolgu Yenileme / Çıkarma",
    "treatment.type.ROOT_CANAL_TREATMENT": "Kanal Tedavisi",
    "treatment.type.ROOT_CANAL_RETREATMENT": "Kanal Tedavisi Tekrarı",
    "treatment.type.CANAL_OPENING": "Kanal Açılması",
    "treatment.type.CANAL_FILLING": "Kanal Dolgusu",
    "treatment.type.EXTRACTION": "Çekim",
    "treatment.type.SURGICAL_EXTRACTION": "Cerrahi Çekim",
    "treatment.type.APICAL_RESECTION": "Apeks Rezeksiyonu",
    "treatment.type.IMPLANT": "İmplant",
    "treatment.type.HEALING_ABUTMENT": "İyileşme Abutmenti",
    "treatment.type.IMPLANT_CROWN": "İmplant Kuronu",
    "treatment.chartTitle": "FDI Dental Chart",
    "treatment.allTreatments": "Tüm Tedaviler",
    "treatment.allTreatmentsWithPriority": "Tüm Tedaviler (Diş {{toothId}} öncelikli)",
    "treatment.toothLabel": "Diş {{toothId}}",
    "treatment.eventType.treatment": "Tedavi",
    "treatment.eventType.consult": "Konsültasyon",
    "treatment.eventType.followup": "Takip",
    "treatment.eventType.lab": "Lab / Tarama",
    "treatment.readOnlyNotice": "Bu sayfa sadece görüntüleme amaçlıdır. İşlem eklemek/düzenlemek için lütfen kliniğinizle iletişime geçin.",
    
    // Referrals
    "referrals.title": "Davet",
    "referrals.subtitle": "Arkadaşını davet et, ikiniz de indirim kazanın",
    "referrals.inviteCode": "Davet Kodun",
    "referrals.howItWorks": "Nasıl çalışır?",
    "referrals.pending": "Onay Bekliyor",
    "referrals.approved": "Onaylandı",
    "referrals.rejected": "Reddedildi",
    "referrals.clinicRates": "Klinik İndirim Seviyeleri",
    "referrals.level1Discount": "Seviye 1",
    "referrals.level2Discount": "Seviye 2",
    "referrals.level3Discount": "Seviye 3",
    "referrals.copySuccess": "Davet kodu panoya kopyalandı!",
    "referrals.copyError": "Kod kopyalanamadı.",
    "referrals.shareMessage": "Cliniflow ile tedavi planımı takip ediyorum.\nUygulamayı indirip kayıt olurken davet kodunu gir:\n\nDavet kodum: {{patientId}}\n\nNot: İndirim oranını klinik/admin belirliyor.",
    "referrals.shareFailed": "Paylaşım başarısız.",
    "referrals.howItWorksContent": "1) Kodunu arkadaşınla paylaş.\n2) Arkadaşın kayıt olurken bu kodu girsin.\n3) Arkadaşın kliniğe geldiğinde davet onaylanır.\n4) Onay anında ikiniz aynı seviyeden indirim kazanırsınız.\n5) Davet zinciri ilerledikçe seviye artar ve maksimum seviyede sabitlenir.",
    "referrals.noReferrals": "Henüz davet yok. Kodu paylaşınca burada görünecek.",
    "referrals.loading": "Yükleniyor...",
    "referrals.loadError": "Referral bilgileri yüklenemedi",
    "referrals.clinicRatesInfo": "Not: İndirim oranlarını klinik belirler.",
    "referrals.invitedPerson": "Davet edilen kişi",
    "referrals.inviterPerson": "Davet eden kişi",
    "referrals.youInvited": "Davet ettin",
    "referrals.invitedYou": "Seni davet etti",
    "referrals.discount": "İndirim",
    "referrals.referralStatus": "Davet Durumu",
    
    // Settings
    "settings.title": "Ayarlar",
    "settings.language": "Dil",
    "settings.selectLanguage": "Dil Seç",
    "settings.logout": "Çıkış Yap",
    "settings.languageChanged": "Dil değiştirildi",
    "settings.languageChangeError": "Dil değiştirilemedi",
    "settings.logoutConfirm": "Çıkış yapmak istediğinize emin misiniz?",
    "settings.languagePickerTitle": "Dil Seç / Select Language",
    "settings.languageChangedSuccess": "Başarılı / Success",
    "settings.languageChangedMessage": "Dil değiştirildi / Language changed",
    "settings.languageChangeFailed": "Dil değiştirilemedi / Failed to change language",
    "settings.languagePickerFailed": "Dil seçimi açılamadı / Language picker failed",
    
    // Login
    "login.phone": "Telefon",
    "login.phonePlaceholder": "Telefon numaranızı girin",
    "login.login": "Giriş Yap",
    "login.loading": "Giriş yapılıyor...",
    "login.missingInfo": "Eksik Bilgi",
    "login.enterPhone": "Lütfen telefon numaranızı giriniz.",
    "login.endpointNotFound": "Endpoint Bulunamadı",
    "login.apiNotFound": "API endpoint bulunamadı (HTTP {{status}}). Sunucunun çalıştığından emin olun.\n\nURL: {{url}}",
    "login.error": "Hata",
    "login.invalidResponse": "Sunucu yanıtı geçersiz (HTTP {{status}}). Lütfen tekrar deneyin.",
    "login.loginFailed": "Giriş işlemi başarısız",
    "login.patientNotFound": "Bu telefon numarası ile kayıtlı hasta bulunamadı. Lütfen kayıt olun.",
    "login.phoneRequired": "Lütfen telefon numaranızı giriniz.",
    "login.loginError": "Giriş Hatası",
    "login.success": "Giriş Başarılı",
    "login.welcome": "Hoş geldiniz {{name}}!",
    "login.welcomePending": "Hoş geldiniz {{name}}! Hesabınız onay bekliyor.",
    "login.pleaseRetry": "Bir hata oluştu. Lütfen tekrar deneyin.",
    "login.noAccount": "Hesabınız yok mu? Kayıt olun",
  },
  en: {
    // Common
    "common.loading": "Loading...",
    "common.error": "Error",
    "common.success": "Success",
    "common.cancel": "Cancel",
    "common.ok": "OK",
    "common.save": "Save",
    "common.delete": "Delete",
    "common.edit": "Edit",
    "common.close": "Close",
    "common.back": "Back",
    "common.next": "Next",
    "common.retry": "Retry",
    "common.share": "Share",
    "common.copy": "Copy",
    "common.call": "Call",
    "common.file": "File",
    "common.location": "Location",
    "common.shareFileOrSave": "Share or Save File",
    "common.sharingNotAvailable": "Sharing is not available",
    "common.sharingFailed": "Sharing failed",
    "common.unknownError": "Unknown error",
    "common.pleaseRetry": "Please try again",
    "common.retryFailed": "Retry failed",
    "common.info": "Info",
    
    // Home
    "home.title": "Home",
    "nav.home": "Home",
    "nav.health": "Health",
    "nav.travel": "Travel",
    "nav.chat": "Chat",
    "nav.treatment": "Treatment",
    "nav.referrals": "Referrals",
    "home.welcome": "Welcome",
    "home.status": "Status",
    "home.nextActions": "Next Actions",
    "home.upcoming": "Upcoming",
    "home.treatmentPlan": "Treatment Plan",
    "home.estimatedDays": "Estimated: {{days}} days",
    "home.travel": "Travel",
    "home.messages": "Messages",
    "home.messageClinic": "Message your clinic",
    "home.noActions": "No actions needed today",
    "home.noEvents": "No upcoming events",
    "home.loading": "Loading...",
    "home.error": "Unable to load patient information",
    "home.viewOnMap": "View on Map",
    "home.clinicAddress": "Address",
    "home.clinicPhone": "Phone",
    "home.statusUnderReview": "Under Review",
    "home.statusUnderReviewMessage": "Your information is being reviewed",
    "home.statusActionRequired": "Action Required",
    "home.statusActionRequiredMessage": "We need a few more details",
    "home.statusPlanReady": "Plan Ready",
    "home.statusPlanReadyMessage": "Your treatment plan is ready",
    "home.statusTravelPlanned": "Travel Planned",
    "home.statusTravelPlannedMessage": "Your trip is planned",
    "home.statusInTreatment": "In Treatment",
    "home.statusInTreatmentMessage": "Treatment in progress",
    "home.statusCompleted": "Completed",
    "home.statusCompletedMessage": "Treatment completed",
    "home.statusPending": "Pending",
    "home.statusPendingMessage": "Waiting for approval",
    "home.statusApproved": "Approved",
    "home.statusApprovedMessage": "You're all set",
    "home.actionCompleteForm": "Complete medical form (anamnesis)",
    "home.actionCompleteTravel": "Complete travel information",
    "home.actionCompleteTravelDetails": "Complete travel details",
    "home.progressForm": "Form",
    "home.progressApproval": "Approval",
    "home.progressPlanning": "Planning",
    "home.progressTravel": "Travel",
    "home.progressTreatment": "Treatment",
    "home.eventFlight": "Flight",
    "home.eventFlightDetails": "Check your travel details",
    "home.eventHotel": "Hotel",
    "home.eventTransfer": "Transfer",
    "home.transferConfirmed": "Confirmed",
    "home.flightLabel": "Flight",
    "home.hotelLabel": "Hotel",
    "home.transferLabel": "Transfer",
    "home.poweredBy": "Powered by Cliniflow",
    "home.needHelp": "Need Help?",
    "home.contactClinic": "Contact your clinic coordinator for assistance",
    "home.travelIncompleteWarning": "⚠️ Your travel information is incomplete",
    "home.travelIncompleteMessage": "Please complete your travel information",
    "home.financialSummary": "Treatment Summary",
    "home.estimatedTotal": "Estimated Total",
    "home.totalPaid": "Paid",
    "home.remaining": "Remaining",
    "home.financialNote": "For informational purposes only.",
    
    // Chat
    "chat.title": "Chat",
    "chat.send": "Send",
    "chat.typeMessage": "Type a message...",
    "chat.fileDownloaded": "File Downloaded",
    "chat.fileDownloadFailed": "File Download Failed",
    "chat.downloadSuccess": "File downloaded successfully.",
    "chat.downloadError": "File could not be downloaded",
    "chat.fileDownloadSuccess": "File downloaded successfully",
    "chat.downloadTimeout": "Download timeout",
    "chat.fileNotFound": "File not found",
    "chat.downloadFailedHttp": "Download failed: HTTP",
    "chat.noStorage": "Insufficient storage space",
    "chat.downloadDeprecatedError": "File download feature is being updated",
    "chat.chatLocked": "Chat Locked",
    "chat.chatLockedMessage": "Chat is only available for approved patients.",
    "chat.sendError": "Failed to send message. Please try again.",
    "chat.file": "File",
    "chat.loading": "Loading messages...",
    "chat.noMessages": "No messages yet",
    "chat.selectFile": "Select File",
    "chat.selectImage": "Select Image",
    "chat.selectDocument": "Select Document",
    "chat.intraoralPhoto": "Take Intraoral Photo",
    "chat.sendImage": "Send Image",
    "chat.sendFile": "Send File",
    "chat.formatNotSupported": "Format Not Supported",
    "chat.formatNotSupportedMessage": "Supported formats: JPG, PNG, HEIC – Max 10MB",
    "chat.error": "Error",
    "chat.imageSelectionFailed": "Failed to select photo.",
    "chat.fileSelectionFailed": "Failed to select file.",
    "chat.sessionError": "Session Error",
    "chat.sessionExpired": "Your session may have expired. Please logout and login again.",
    "chat.uploadError": "Upload Error",
    "chat.uploadErrorServer": "Server error occurred",
    "chat.uploadErrorTryLater": "Please try again later.",
    "chat.timeout": "Timeout",
    "chat.uploadTimeout": "Upload timed out. Please try again.",
    "chat.uploadFailed": "Upload failed",
    "chat.fileSendFailed": "File could not be sent",
    "chat.success": "Success",
    "chat.photoUploaded": "Photo uploaded.",
    "chat.connectionError": "Connection Error",
    "chat.checkConnection": "Check your internet connection and try again.",
    "chat.downloadFailed": "Photo download failed",
    "chat.photoOpenFailed": "Photo could not be opened",
    "chat.unknownError": "Unknown error",
    
    // Travel
    "travel.title": "Travel",
    "travel.loading": "Loading travel information...",
    "travel.error": "Failed to load travel information",
    "travel.flight": "Flight",
    "travel.hotel": "Hotel",
    "travel.transfer": "Transfer",
    "travel.retry": "Retry",
    "travel.save": "Save",
    "travel.cancel": "Cancel",
    "travel.edit": "Edit",
    "travel.add": "Add",
    "travel.delete": "Delete",
    "travel.arrival": "Arrival",
    "travel.departure": "Departure",
    "travel.from": "From",
    "travel.to": "To",
    "travel.date": "Date",
    "travel.time": "Time",
    "travel.flightNo": "Flight No",
    "travel.hotelName": "Hotel Name",
    "travel.address": "Address",
    "travel.phone": "Phone",
    "travel.checkIn": "Check-in",
    "travel.checkOut": "Check-out",
    "travel.viewOnMap": "View on Map",
    "travel.airportPickup": "Airport Pickup",
    "travel.pickupName": "Pickup Person",
    "travel.whatsApp": "WhatsApp",
    "travel.gate": "Meeting Point (Gate)",
    "travel.carBrand": "Car Brand",
    "travel.carColor": "Car Color",
    "travel.carPlate": "Car Plate",
    "travel.notes": "Notes",
    "travel.notesPlaceholder": "You can write your travel notes here...",
    "travel.editPolicy": "Edit Policy",
    "travel.editPolicyAdmin": "Admin fills",
    "travel.editPolicyPatient": "Patient fills",
    "travel.editPolicyBoth": "Both can fill",
    "travel.noTravelInfo": "No travel information yet",
    "travel.saveSuccess": "Travel information saved",
    "travel.saveError": "Failed to save travel information",
    "travel.deleteConfirm": "Are you sure you want to delete this information?",
    "travel.requestTimeout": "Request timeout (10 seconds).\n\nPlease:\n1. Make sure the server is running\n2. Check your internet connection\n3. Try again",
    "travel.networkError": "Network connection error.\n\nPlease:\n1. Make sure the server is running\n2. Check your internet connection",
    "travel.refreshError": "Refresh error",
    "travel.noEditableFields": "There are no fields you can edit on this page.",
    "travel.patientIdNotFound": "Patient ID not found",
    "travel.waitMax10Seconds": "Wait maximum 10 seconds...",
    "travel.whoWillArrangeFlights": "Who will arrange the flight tickets?",
    "travel.whoWillArrangeHotel": "Who will make the hotel reservation?",
    "travel.clinic": "Clinic",
    "travel.patient": "Patient",
    "travel.patientIdLabel": "Patient",
    "travel.yourChoice": "Your Choice",
    "travel.flightTickets": "Flight Tickets",
    "travel.hotelReservation": "Hotel Reservation",
    "travel.noHotelInfo": "No hotel information entered yet.",
    "travel.checkInDate": "Check-in (Select date)",
    "travel.checkOutDate": "Check-out (Select date)",
    "travel.selectDate": "Select date (YYYY-MM-DD)",
    "travel.checkInDateLabel": "Check-in Date",
    "travel.checkOutDateLabel": "Check-out Date",
    "travel.flightDateLabel": "Flight Date",
    "travel.contactPerson": "Contact Person",
    "travel.meetingPoint": "Meeting Point",
    "travel.vehicleInformation": "Vehicle Information",
    "travel.specialNotes": "Special Notes",
    "travel.hotelNamePlaceholder": "Hotel name",
    "travel.addressPlaceholder": "Address",
    "travel.phonePlaceholder": "Phone",
    "travel.googleMapsLinkPlaceholder": "Google Maps Link (https://maps.google.com/...)",
    "travel.fromPlaceholder": "From",
    "travel.toPlaceholder": "To",
    "travel.timePlaceholder": "Time (HH:MM)",
    "travel.flightNoPlaceholder": "Flight No",
    "travel.addArrival": "+ Arrival",
    "travel.addDeparture": "+ Departure",
    "travel.remove": "Remove",
    "travel.adminOnlySection": "This section is filled by admin, you can only view it here.",
    "travel.selectOrganizationMessage": "Please select who will arrange your flight and hotel bookings",
    
    // Health
    "health.title": "Health Form",
    "health.complete": "Complete Form",
    "health.loading": "Loading form...",
    "health.error": "Failed to load form",
    "health.save": "Save",
    "health.next": "Next",
    "health.back": "Back",
    "health.submit": "Submit",
    "health.submitConfirm": "Are you sure you want to submit the form?",
    "health.submitSuccess": "Form submitted successfully",
    "health.submitError": "Failed to submit form",
    "health.error": "Error",
    "health.formCouldNotBeSaved": "Form could not be saved",
    "health.endpointNotFound": "Endpoint not found. You may need to restart the server.",
    "health.serverError": "Server error. Please try again later.",
    "health.unexpectedResponse": "Unexpected response format. Please check the server.",
    "health.connectionError": "There may be a connection error.",
    "health.missingInformation": "Missing Information",
    "health.fillRequiredFields": "Please fill in all required fields.",
    "health.missingFields": "Missing fields",
    "health.success": "Success",
    "health.formCompleted": "Form completed successfully! Editing is closed.",
    "health.checkAllConsent": "Please check all consent boxes",
    "health.personalInformation": "Personal Information",
    "health.generalHealthStatus": "General Health Status",
    "health.medicationsAllergies": "Medications & Allergies",
    "health.dentalHistoryComplaint": "Dental History & Complaint",
    "health.reviewAndUpdate": "Please review and update your information if needed.",
    "health.fullName": "Full Name",
    "health.fullNamePlaceholder": "Full Name",
    "health.registeredName": "Registered name (cannot be changed)",
    "health.dateOfBirth": "Date of Birth",
    "health.dateOfBirthPlaceholder": "DD.MM.YYYY",
    "health.gender": "Gender",
    "health.male": "Male",
    "health.female": "Female",
    "health.other": "Other",
    "health.phoneWhatsApp": "Phone / WhatsApp",
    "health.phonePlaceholder": "+90 555 123 45 67",
    "health.registeredPhone": "Registered phone number (cannot be changed)",
    "health.email": "Email (Optional)",
    "health.emailPlaceholder": "example@email.com",
    "health.country": "Country",
    "health.countryPlaceholder": "Turkey",
    "health.anyConditions": "Do you have any of the following?",
    "health.pregnancyMonth": "Pregnancy Month? (Optional)",
    "health.pregnancyMonthPlaceholder": "Month (e.g.: 3)",
    "health.brieflyExplain": "Please briefly explain",
    "health.notesPlaceholder": "Notes...",
    "health.medicationsUsed": "MEDICATIONS USED",
    "health.allergies": "ALLERGIES",
    "health.medicationNameDosage": "Medication name and dosage (if known)",
    "health.medicationPlaceholder": "E.g.: Aspirin 100mg, 1 tablet daily",
    "health.details": "Details",
    "health.allergyDetailsPlaceholder": "Allergy details...",
    "health.dentalHistory": "DENTAL HISTORY",
    "health.problemsPrevious": "Have you experienced problems during previous dental treatment?",
    "health.badExperienceAnesthesia": "Have you had a bad experience with local anesthesia?",
    "health.previousProcedures": "Have you had previous implant / root canal / surgical procedure?",
    "health.currentComplaint": "CURRENT COMPLAINT",
    "health.mainComplaint": "What is your main complaint?",
    "health.complaintPlaceholder": "Write your complaint...",
    "health.isTherePain": "Is there pain?",
    "health.habits": "HABITS",
    "health.doYouSmoke": "Do you smoke?",
    "health.howManyPerDay": "How many per day?",
    "health.cigarettesPlaceholder": "Cigarettes",
    "health.alcoholConsumption": "Alcohol consumption:",
    "health.consentInformation": "CONSENT & INFORMATION",
    "health.infoAccurate": "I declare that the information I provided is accurate",
    "health.planMayChange": "I accept that the treatment plan may change after examination",
    "health.dataUsage": "I consent to the use of my data for treatment purposes",
    "health.yes": "Yes",
    "health.no": "No",
    "health.none": "None",
    "health.mild": "Mild",
    "health.moderate": "Moderate",
    "health.severe": "Severe",
    "health.noLabel": "No",
    "health.occasional": "Occasional",
    "health.regular": "Regular",
    "health.preTreatmentForm": "Pre-Treatment Patient Form",
    "health.loadingText": "Loading...",
    "health.formCompleted": "Form Completed",
    "health.formCompletedMessage": "Your health form has been successfully saved. Editing is closed.",
    "health.returnToHome": "Return to Home",
    "health.step": "Step",
    "health.condition.diabetes": "Diabetes",
    "health.condition.heart_disease": "Heart Disease",
    "health.condition.hypertension": "Hypertension (High Blood Pressure)",
    "health.condition.bleeding_disorder": "Bleeding / Clotting Disorder",
    "health.condition.asthma": "Asthma / Respiratory Disease",
    "health.condition.epilepsy": "Epilepsy",
    "health.condition.kidney_disease": "Kidney Disease",
    "health.condition.liver_disease": "Liver Disease",
    "health.condition.thyroid": "Thyroid Disease",
    "health.condition.immune_system": "Immune System Disease",
    "health.condition.cancer": "Cancer (Past or Active)",
    "health.condition.pregnancy": "Pregnancy",
    "health.condition.none": "None",
    "health.medication.regular": "Regular medication",
    "health.medication.bloodThinner": "Blood thinner (Aspirin, Coumadin, Eliquis, etc.)",
    "health.medication.cortisone": "Cortisone",
    "health.medication.antibiotics": "Antibiotics (within last month)",
    "health.medication.none": "None",
    "health.allergy.localAnesthesia": "Allergy to local anesthesia",
    "health.allergy.penicillin": "Penicillin / antibiotic allergy",
    "health.allergy.latex": "Latex allergy",
    "health.allergy.other": "Other allergy",
    "health.allergy.none": "No allergies",
    
    // Treatment
    "treatment.title": "Treatment",
    "treatment.plan": "Treatment Plan",
    "treatment.loading": "Loading treatment plan...",
    "treatment.error": "Failed to load treatment plan",
    "treatment.noProcedures": "No procedures for this tooth yet",
    "treatment.readOnly": "This screen is read-only",
    "treatment.tooth": "Tooth",
    "treatment.procedures": "Procedures",
    "treatment.status": "Status",
    "treatment.cost": "Cost",
    "treatment.estimatedCost": "Estimated Cost",
    "treatment.informationalOnly": "For Informational Purposes Only",
    "treatment.scheduledAt": "Scheduled Date",
    "treatment.notes": "Notes",
    "treatment.couldNotLoad": "Could not load treatment information",
    "treatment.patientNotFound": "Patient not found",
    "treatment.upperJaw": "Upper Jaw",
    "treatment.lowerJaw": "Lower Jaw",
    "treatment.noTreatmentRecords": "No treatment records yet",
    "treatment.toothTreatments": "Tooth {{toothId}} - Treatments",
    "treatment.status.planned": "Planned",
    "treatment.status.scheduled": "Scheduled",
    "treatment.status.pending": "Pending",
    "treatment.status.active": "Active",
    "treatment.status.completed": "Completed",
    "treatment.scheduled": "Scheduled",
    "treatment.notes": "Notes",
    "treatment.created": "Created",
    "treatment.type.CROWN": "Crown",
    "treatment.type.TEMP_CROWN": "Temporary Crown",
    "treatment.type.BRIDGE_UNIT": "Bridge",
    "treatment.type.TEMP_BRIDGE_UNIT": "Temporary Bridge",
    "treatment.type.CROWN_REPLACEMENT": "Crown Replacement",
    "treatment.type.BRIDGE_REPLACEMENT_OR_REMOVAL": "Bridge Replacement / Removal",
    "treatment.type.INLAY": "Inlay",
    "treatment.type.ONLAY": "Onlay",
    "treatment.type.OVERLAY": "Overlay",
    "treatment.type.POST_AND_CORE": "Post & Core",
    "treatment.type.FILLING": "Filling",
    "treatment.type.TEMP_FILLING": "Temporary Filling",
    "treatment.type.FILLING_REPLACEMENT_OR_REMOVAL": "Filling Replacement / Removal",
    "treatment.type.ROOT_CANAL_TREATMENT": "Root Canal Treatment",
    "treatment.type.ROOT_CANAL_RETREATMENT": "Root Canal Retreatment",
    "treatment.type.CANAL_OPENING": "Canal Opening",
    "treatment.type.CANAL_FILLING": "Canal Filling",
    "treatment.type.EXTRACTION": "Extraction",
    "treatment.type.SURGICAL_EXTRACTION": "Surgical Extraction",
    "treatment.type.APICAL_RESECTION": "Apical Resection",
    "treatment.type.IMPLANT": "Implant",
    "treatment.type.HEALING_ABUTMENT": "Healing Abutment",
    "treatment.type.IMPLANT_CROWN": "Implant Crown",
    "treatment.chartTitle": "FDI Dental Chart",
    "treatment.allTreatments": "All Treatments",
    "treatment.allTreatmentsWithPriority": "All Treatments (Tooth {{toothId}} priority)",
    "treatment.toothLabel": "Tooth {{toothId}}",
    "treatment.eventType.treatment": "Treatment",
    "treatment.eventType.consult": "Consultation",
    "treatment.eventType.followup": "Follow-up",
    "treatment.eventType.lab": "Lab / Scan",
    "treatment.readOnlyNotice": "This page is for viewing only. To add/edit procedures, please contact your clinic.",
    
    // Referrals
    "referrals.title": "Referral",
    "referrals.subtitle": "Invite your friend, both of you get a discount",
    "referrals.inviteCode": "Your Invite Code",
    "referrals.howItWorks": "How it works?",
    "referrals.pending": "Pending",
    "referrals.approved": "Approved",
    "referrals.rejected": "Rejected",
    "referrals.clinicRates": "Clinic Discount Levels",
    "referrals.level1Discount": "Level 1",
    "referrals.level2Discount": "Level 2",
    "referrals.level3Discount": "Level 3",
    "referrals.copySuccess": "Invite code copied to clipboard!",
    "referrals.copyError": "Failed to copy code.",
    "referrals.shareMessage": "I'm tracking my treatment plan with Cliniflow.\nDownload the app and enter the invite code when registering:\n\nMy invite code: {{patientId}}\n\nNote: Discount rate is determined by the clinic/admin.",
    "referrals.shareFailed": "Sharing failed.",
    "referrals.howItWorksContent": "1) Share your code with a friend.\n2) Your friend enters this code when registering.\n3) The invitation is approved when your friend visits the clinic.\n4) At approval, both of you receive the same discount level.\n5) Levels increase with referrals and stop at the maximum level.",
    "referrals.noReferrals": "No invitations yet. They will appear here when you share your code.",
    "referrals.loading": "Loading...",
    "referrals.loadError": "Failed to load referral information",
    "referrals.clinicRatesInfo": "Note: Discount rates are determined by the clinic.",
    "referrals.invitedPerson": "Invited person",
    "referrals.inviterPerson": "Inviter person",
    "referrals.youInvited": "You invited",
    "referrals.invitedYou": "Invited you",
    "referrals.discount": "Discount",
    "referrals.referralStatus": "Referral Status",
    
    // Settings
    "settings.title": "Settings",
    "settings.language": "Language",
    "settings.selectLanguage": "Select Language",
    "settings.logout": "Logout",
    "settings.languageChanged": "Language changed",
    "settings.languageChangeError": "Failed to change language",
    "settings.logoutConfirm": "Are you sure you want to logout?",
    "settings.languagePickerTitle": "Select Language",
    "settings.languageChangedSuccess": "Success",
    "settings.languageChangedMessage": "Language changed",
    "settings.languageChangeFailed": "Failed to change language",
    "settings.languagePickerFailed": "Language picker failed",
    
    // Login
    "login.phone": "Phone",
    "login.phonePlaceholder": "Enter your phone number",
    "login.login": "Login",
    "login.loading": "Logging in...",
    "login.missingInfo": "Missing Information",
    "login.enterPhone": "Please enter your phone number.",
    "login.endpointNotFound": "Endpoint Not Found",
    "login.apiNotFound": "API endpoint not found (HTTP {{status}}). Make sure the server is running.\n\nURL: {{url}}",
    "login.error": "Error",
    "login.invalidResponse": "Invalid server response (HTTP {{status}}). Please try again.",
    "login.loginFailed": "Login failed",
    "login.patientNotFound": "No patient found with this phone number. Please register.",
    "login.phoneRequired": "Please enter your phone number.",
    "login.loginError": "Login Error",
    "login.success": "Login Successful",
    "login.welcome": "Welcome {{name}}!",
    "login.welcomePending": "Welcome {{name}}! Your account is pending approval.",
    "login.pleaseRetry": "An error occurred. Please try again.",
    "login.noAccount": "Don't have an account? Register",
  },
};

let currentLanguage: Language = "tr";

// Initialize language from device or storage
export async function initI18n(): Promise<Language> {
  try {
    // Try to get saved language from storage
    const saved = await AsyncStorage.getItem(STORAGE_KEY);
    if (saved && SUPPORTED_LANGUAGES.includes(saved as Language)) {
      currentLanguage = saved as Language;
      return currentLanguage;
    }
    
    // Default to Turkish if no saved language
    currentLanguage = "tr";
    
    // Save to storage
    await AsyncStorage.setItem(STORAGE_KEY, currentLanguage);
    
    return currentLanguage;
  } catch (error) {
    console.error("[I18N] Error initializing:", error);
    return "tr";
  }
}

// Get current language
export function getLanguage(): Language {
  return currentLanguage;
}

// Set language
export async function setLanguage(lang: Language): Promise<void> {
  if (!SUPPORTED_LANGUAGES.includes(lang)) {
    throw new Error(`Unsupported language: ${lang}`);
  }
  currentLanguage = lang;
  await AsyncStorage.setItem(STORAGE_KEY, lang);
}

// Translate function
export function t(key: string, params?: Record<string, string | number>): string {
  const translation = translations[currentLanguage]?.[key] || translations["tr"][key] || key;
  
  if (params) {
    return translation.replace(/\{\{(\w+)\}\}/g, (match, paramKey) => {
      return params[paramKey]?.toString() || match;
    });
  }
  
  return translation;
}

// Get all translations for current language
export function getTranslations(): Record<string, string> {
  return translations[currentLanguage] || translations["tr"];
}
